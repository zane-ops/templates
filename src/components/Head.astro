---
import Default from "@astrojs/starlight/components/Head.astro";

const pathname = Astro.url.pathname.endsWith("/")
  ? Astro.url.pathname.substring(0, Astro.url.pathname.length - 1)
  : Astro.url.pathname;

// const ogImageUrl = new URL(`${pathname}/og.png`, Astro.site?.origin);

import TailwindIndicator from "./tailwind-indicator.astro";
---

{process.env.NODE_ENV === "development" && <TailwindIndicator />}

<Default {...Astro.props}><slot /></Default>

<!-- <meta property="og:image" content={ogImageUrl} />
<meta name="twitter:image" content={ogImageUrl} /> -->
{
    process.env.NODE_ENV !== "development" && (
        <script
            is:inline
            defer
            data-domain="zaneops.dev"
            src="https://analytics.fredkiss.dev/js/script.js"
        />
    )
}
